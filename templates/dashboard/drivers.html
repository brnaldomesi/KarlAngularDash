<div class="app app-header-fixed app-aside-folded">
    <karl-header-menu active-index="4"></karl-header-menu>
    <!-- content -->
    <div class="btn-add" ng-click="onAddButtonClick()" style="cursor:pointer;z-index: 990;" title="{{'drivers.h5Add_Driver' | translate}}"><i
            class="fa fa-plus"></i></div>
    <div class="title-block main-padding navbar-collapse">
        <div class="main-title ">
            <span class="fw main-title-text">{{'drivers.h5all_drivers' | translate}}</span>
        </div>
        <div class="pull-right main-title">
            <div class="navbar-form navbar-form-sm navbar-left shift" data-target=".navbar-collapse" role="search">
                <div class="form-group">
                    <div class="input-group">
                        <input type="text" ng-model="input.searchText"
                               class="form-control input-sm bg-light no-border rounded padder search-bg"
                               placeholder="{{'comment.h5search' | translate}}">
                        <span class="input-group-btn">
                            <button ng-show="input.searchText"
                                    ng-click="onCancelSearchButtonClick()"
                                    class="btn btn-sm bg-dark2 rounded input-search">
                                <i class="fa fa-close fw"></i>
                            </button>
                            <button class="btn btn-sm bg-dark2 rounded input-search">
                                <i class="fa fa-search fw"></i>
                            </button>
                        </span>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="pos-rlt navbar-collapse main-padding card-fix pd-b-xl">
        <div class="driver-card-area" ng-repeat="driver in listData">
            <div class="driver-del-panel gen-panel">
                <span class="driver-del-info fw">{{'drivers.h5delete_driver' | translate}}?</span>
                <div>
                    <span class="fgray driver-del-cancel dopoint gen-cancel">{{'comment.h5cancel' | translate}}</span>
                    <span class="fred dopoint"
                          ng-click="onDeleteButtonClick(driver.driver_id,driver.user_id)">{{'comment.h5delete' | translate}}</span>
                </div>
            </div>
            <a type="button" class="card-more"><i class="fa fa-ellipsis-v fd fa-close"></i></a>
            <a type="button" class="card-del gen" title="{{'comment.h5delete'|translate}}"><i class="fa fa-trash fd"></i></a>
            <div class="fw f-s" style="position:absolute;text-align: center;width: 100%;top:5px;">{{'drivers.h5available_in' | translate}}
                {{driver.delayTime}} {{'comment.h5hours' | translate}}
            </div>
            <div class="driver-card-block">
                <div class="driver-name" ng-click="onEditButtonClick(driver.driver_id)">
                    <div ng-if="driver.avatar_url == ''" class="vhead pull-left"
                         style="background:#fff url(img/dashboard/default-avatar.png) no-repeat 50% 50%;background-size: contain"></div>
                    <div ng-if="driver.avatar_url != ''" class="vhead pull-left"
                         style="background:#fff url({{driver.avatar_url}}) no-repeat 50% 50%;background-size: cover"></div>
                    <div style="width: 76%;overflow: hidden;text-overflow: ellipsis; white-space: nowrap;">
                        <span class="fw f-m">{{driver.first_name}} {{driver.last_name}}</span>
                        <br/>
                        <div>
                            <span class="fw2" style="float: left;display: block;overflow: hidden;white-space: nowrap;text-overflow: ellipsis;width: 60%">{{driver.license_number}}</span>
                            <span class="fblack"  style="float: right;display: block;overflow: hidden;white-space: nowrap;text-overflow: ellipsis;width: 40%">{{driver.car_count}} {{'comment.h5vehicles' | translate}}</span>
                        <div style="clear: both"></div>
                        </div>


                    </div>
                </div>
                <div class="driver-line"></div>
                <div class="driver-ve" ng-click="onEditButtonClick(driver.driver_id)">
                    <div style="overflow:hidden;white-space:nowrap;text-overflow:ellipsis;">{{driver.final_address[0]}}</div>
                    <div style="overflow:hidden;white-space:nowrap;text-overflow:ellipsis;" ng-show="driver.final_address[1]">{{driver.final_address[1]}}</div>
                </div>
                <div class="cl"></div>
                <div class="driver-line"></div>
                <div class="f-xs" style="overflow: hidden;text-overflow: ellipsis; white-space: nowrap;">
                    P. {{driver.mobile | phoneNumFormatter : country}}<br/>
                    E. {{driver.email}}
                </div>

                <div class="driver-des">
                    <div class="driver-des-cont">
                        <a href="sms:{{driver.mobile}}">
                            <div class="dispop">
                                <i class="fa fa-commenting-o fw"></i>
                                <br/>
                                <span class="fblack">{{'comment.h5text' | translate}}</span>
                            </div>
                        </a>
                        <a href="tel:{{driver.mobile}}">
                            <div class="dispop">
                                <i class="fa fa-phone fw"></i>
                                <br/>
                                <span class="fblack">{{'comment.h5call' | translate}}</span>
                            </div>
                        </a>
                        <p class="cl"></p>

                    </div>
                    <div class="driver-des-mail">
                        <a href="mailto:{{driver.email}}">
                            <div class="dispop">
                                <i class="fa fa-envelope fw"></i>
                                <br/>
                                <span class="fblack">{{'comment.h5email' | translate}}</span>
                            </div>
                        </a>
                        <p class="cl"></p>
                    </div>
                </div>
                <div class="driver-line"></div>
                <ul class="driver-week" ng-click="onEditButtonClick(driver.driver_id)">
                    <li ng-class="{true:'rates-week-act',false:'rates-week-nor'}[driver.workStates[0]]">{{'comment.h5Sun' | translate}}</li>
                    <li ng-class="{true:'rates-week-act',false:'rates-week-nor'}[driver.workStates[1]]">{{'comment.h5Mon' | translate}}</li>
                    <li ng-class="{true:'rates-week-act',false:'rates-week-nor'}[driver.workStates[2]]">{{'comment.h5Tue' | translate}}</li>
                    <li ng-class="{true:'rates-week-act',false:'rates-week-nor'}[driver.workStates[3]]">{{'comment.h5Wen' | translate}}</li>
                    <li ng-class="{true:'rates-week-act',false:'rates-week-nor'}[driver.workStates[4]]">{{'comment.h5Thu' | translate}}</li>
                    <li ng-class="{true:'rates-week-act',false:'rates-week-nor'}[driver.workStates[5]]">{{'comment.h5Fri' | translate}}</li>
                    <li ng-class="{true:'rates-week-act',false:'rates-week-nor'}[driver.workStates[6]]">{{'comment.h5Sat' | translate}}</li>
                </ul>
            </div>
        </div>
        <div class="cl pd-b-xl"></div>
        <!-- /content -->
    </div>
</div>
<google-analytics analytics-page='/drivers.html'></google-analytics>